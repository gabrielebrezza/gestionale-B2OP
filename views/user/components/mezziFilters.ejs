
<script src="/scripts/users/components/mezziFilters.js"></script>
<% const types = veicoli
        .map(obj => obj.type)
        .filter((value, index, self) => self.indexOf(value) === index); 
%>
<div class="filtersContainer">
    <div id="toggleFilters">
        <span class="material-symbols-rounded">
            tune
        </span>
    </div>
    <div id="filters" class="filters <%= types.includes(mezzoType) ? 'active' : '' %>">
        <form onsubmit="event.preventDefault()">
            <div class="field">
                <label for="mezzoType">Tipo: </label>
                <select id="mezzoType"  style="text-transform: capitalize;">
                    <option value="all" <%= !types.includes(mezzoType) ? 'selected' : '' %>>Tutti</option>
                    <% for(const type of types){ %>
                        <option value="<%= type %>" <%= type == mezzoType ? 'selected' : '' %>><%= type %></option>
                    <% } %>
                </select>
            </div>
            <div class="field">
                <label for="fromDate">Spesa Massima: </label>
                <div class="euroSymbol" style="display: flex; flex-wrap: nowrap; align-items: center; position: relative; left: .7rem;"><input type="number" id="budget" min="0">â‚¬</div>
            </div>
            <div class="field">
                <label for="fromDate">Inizio Noleggio: </label>
                <input type="date" id="fromDate" min="<%= new Date(new Date().setDate(new Date().getDate() + 1)).toISOString().split('T')[0] %>">
            </div>
            <div class="field">
                <label for="fromDate">Fine Noleggio: </label>
                <input type="date" id="toDate" min="<%= new Date(new Date().setDate(new Date().getDate() + 1)).toISOString().split('T')[0] %>">
            </div>
        </form>
        <p id="filtersErrorMessage"></p>
    </div>
</div>

<style>
    .noElementShown{
        opacity: 0;
        pointer-events: none;
        border-bottom: 2px dashed var(--textColor);
        position: relative;
        width: 100%;
        height: 0px;
        display: flex;
        align-items: flex-end;
        overflow: hidden;
        transition: .5s ease-in-out;
    }
    .noElementShown.active{
        opacity: 1;
        pointer-events: all;
        height: 150px;
    }
    .noElementShown h3{
        width: 100%;
        text-align: center;
        opacity: .8;
    }
    /* .noElementShown.active img{
        position: absolute;
        transform: translateX(calc(100vw + var(--mezzo) * 250px));
        animation: 
            driving 20s infinite ease,
            shaking 1s infinite ease-in-out calc(.55s * var(--mezzo));
    }
    .noElementShown.active img:nth-child(2){
        filter: brightness(80%) saturate(320%);
    }
    .noElementShown.active img:nth-child(3){
        filter: saturate(520%);
    }
    .noElementShown.active img:nth-child(4){
        filter: brightness(115%) saturate(200%);
    }
    @keyframes shaking {
        0%{
            scale: 1;
        }
        50%{
            scale: 1.005;
        }
        100%{
            scale: 1;
        }
    }
    @keyframes driving {
        0% {
            transform: translateX(calc(100vw + var(--mezzo) * 250px));
        }
        25% {
            transform: translateX(calc(25vw + var(--mezzo) * 250px));
        }
        45% {
            transform: translateX(calc(-100vw + var(--mezzo) * 250px));
        }
        50% {
            transform: translateX(calc(-100vw + var(--mezzo) * 250px)) rotateY(180deg);
        }
        60% {
            transform: translateX(calc(0px - var(--mezzo) * 250px)) rotateY(180deg);
        }
        85% {
            transform: translateX(calc(100vw + var(--mezzo) * 250px)) rotateY(180deg);
        }
        100% {
            transform: translateX(calc(100vw + var(--mezzo) * 250px));
        }
    } */
</style>
<div class="noElementShown">
    <h3>Purtroppo nessun mezzo rispetta i criteri di ricerca.</h3>
    <!-- <img src="/img/furgone-blu-logo.png" alt="" width="200px" style="--mezzo: 1;"> -->
    <!-- <img src="/img/furgone-rosso-logo.png" alt="" width="200px" style="--mezzo: 2;"> -->
    <!-- <img src="/img/furgone-giallo-logo.png" alt="" width="200px" style="--mezzo: 3;"> -->
</div> 